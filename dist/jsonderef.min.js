!function(r){function t(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return r[e].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=r,t.c=n,t.p="",t(0)}([function(r,t,n){(function(r){"use strict";function e(r){return r&&r.__esModule?r:{"default":r}}function o(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);t<r.length;t++)n[t]=r[t];return n}return Array.from(r)}function i(r,t){var n={};for(var e in r)t.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}function u(r,t){return t.some(function(t){return t.startsWith(r)})}function s(r){return r&&!r.startsWith("/")&&(r="/"+r),r}function c(t,n){function e(t,e){return new Promise(function(o,i){var u=Object.getOwnPropertyNames(d),s=u.indexOf(t),c=d[t];if(!c){var f=void 0;return t.startsWith("http://")||t.startsWith("https://")?f=g.web:t.startsWith("json:")?f=g.json:"node"===r.env.BABEL_ENV&&(f=g.file),(n.externalLoader?n.externalLoader(t,e,f):f(t)).then(function(r){c=d[t]={raw:r,parsed:{}},o(a({},c,{resourceId:u.length}))})}o(Object.assign({},c,{resourceId:s}))})}function c(r){function t(a,d,v,b,y){console.log("processNode "+v+(y?"("+y+")":"")+" with refChain "+b);var g=!!y,w=g?[y]:Object.getOwnPropertyNames(a),O=-1,m=0;return new Promise(function(j,x){function E(){O++,O===w.length?j(g?d[y]:m?d:a):!function(){var y=w[O],j=a[y],N=v+"/"+y;if(d.hasOwnProperty(y))m|=d[y]!==j,E();else if("object"!==("undefined"==typeof j?"undefined":l(j)))d[y]=j,E();else if(j.hasOwnProperty("$ref"))!function(){var t=j.$ref,a=i(j,["$ref"]),l=t.split("#"),v=f(l,2),w=v[0],O=v[1],A=void 0===O?"":O,P=[].concat(o(b),[N]);Promise.resolve().then(function(){return w?e(w,a):{raw:r,parsed:h,resourceId:p}}).then(function(r){var t=r.raw,e=r.parsed,o=r.resourceId;if(!w&&n.externalOnly)return j;var i=o+"#"+s(A);if(u(i,[N])||g&&u(i,b))throw new Error("pointer "+i+" is circular");return c(t,e,o,A,a,P)}).then(function(r){m=1,d[y]=r,E()})["catch"](function(r){n.failOnMissing?x(r):(d[y]=j,E())})}();else{var A=d[y]=Array.isArray(j)?[]:{};t(j,A,N,b).then(function(r){m|=r!==j,E()})["catch"](x)}}()}E()})}function a(n,e){var o=p+"#";return console.log("solveReference "+(o+e)+" with refChain "+n),e?Promise.resolve().then(function(){var i=r,u=h,c=s(e).split("/");c.shift();for(var f=c[0];u.hasOwnProperty(f);)i=i[f],u=u[f],o+="/"+c.shift(),f=c[0];return c.length?(f=c.shift(),Promise.resolve().then(function(){return t(i,u,o,n,f)}).then(function(r){if(!r)throw new Error(o+"/"+f+" of pointer "+e+" at "+n[n.length-1]+" did not return object");for(;r.hasOwnProperty(c[0])&&(r=r[c[0]]);)c.shift();if(c.length)throw new Error("invalid pointer "+e+" at "+n[n.length-1]);return r})):u}):t(r,h,o,n)}var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=arguments[2],d=arguments[3],v=arguments[4],b=arguments[5];return n.localLoader?n.localLoader(d,v,a.bind(this,b)):a(b,d)}var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(n=Object.assign({},y,n),n.localLoader&&"function"!=typeof n.localLoader)throw new Error("options.localLoader must be a function");if(n.externalLoader&&"function"!=typeof n.externalLoader)throw new Error("options.externalLoader must be a function");var d={},g={web:function(r){return fetch(r).then(function(r){return r.text()}).then(function(r){return JSON.parse(r)})},json:function(r){if(r=r.substring(5),n.jsonResources.hasOwnProperty(r))return Promise.resolve(n.jsonResources[r]);throw new Error("can't find "+r)}};return p["default"]&&(g.file=function(r){return new Promise(function(t,e){p["default"].readFile(v["default"].resolve(n.basePath,r),"utf8",function(r,n){if(r)throw r;t(JSON.parse(n))})})}),Promise.resolve().then(function(){if("string"==typeof t)return e(t,{});if("object"===("undefined"==typeof t?"undefined":l(t)))return Object.assign(d,{json:{raw:t,parsed:Array.isArray(t)?[]:{}}}),d.json;throw new Error("Invalid param. Must be object, array or string")}).then(function(r){var t=r.raw,e=r.parsed,o={};return Object.getOwnPropertyNames(n.jsonResources).forEach(function(r){o["json:"+r]={raw:n.jsonResources[r],parsed:{}}}),Object.assign(d,o,n.cache?b:{}),c(t,e,0,h,{},[])})}var f=function(){function r(r,t){var n=[],e=!0,o=!1,i=void 0;try{for(var u,s=r[Symbol.iterator]();!(e=(u=s.next()).done)&&(n.push(u.value),!t||n.length!==t);e=!0);}catch(c){o=!0,i=c}finally{try{!e&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},h=n(2),p=e(h),d=n(12),v=e(d),b={},y={cache:!0,cacheTTL:3e5,failOnMissing:!1,externalOnly:!1,requireStartSlash:!1,localLoader:void 0,externalLoader:void 0,jsonResources:{}};p["default"]&&(y.basePath=r.cwd()),t["default"]=c}).call(t,n(1))},function(r,t){function n(){f&&u&&(f=!1,u.length?c=u.concat(c):a=-1,c.length&&e())}function e(){if(!f){var r=setTimeout(n);f=!0;for(var t=c.length;t;){for(u=c,c=[];++a<t;)u&&u[a].run();a=-1,t=c.length}u=null,f=!1,clearTimeout(r)}}function o(r,t){this.fun=r,this.array=t}function i(){}var u,s=r.exports={},c=[],f=!1,a=-1;s.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(r,t)),1!==c.length||f||setTimeout(e,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(r){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(r){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(r,t,n){(function(r){"use strict";t.object=n(3),t.array=n(4),t.func=n(5),t.functionThatReturns=n(6),t.functionThatReturnsTrue=n(7),t.functionThatReturnsFalse=n(8),t.functionThatReturnsNull=n(9),t.functionThatReturnsThis=n(10),t.functionThatReturnsArgument=n(11),"production"!=r.env.NODE_ENV&&Object.freeze(t)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports={},"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports=[],"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports=function(){},"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports=function(r){return function(){return r}},"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports=n(6)(!0),"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports=n(6)(!1),"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports=n(6)(null),"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports=function(){return this},"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(t){"use strict";r.exports=function(r){return r},"production"!=t.env.NODE_ENV&&Object.freeze(r.exports)}).call(t,n(1))},function(r,t,n){(function(r){function n(r,t){for(var n=0,e=r.length-1;e>=0;e--){var o=r[e];"."===o?r.splice(e,1):".."===o?(r.splice(e,1),n++):n&&(r.splice(e,1),n--)}if(t)for(;n--;n)r.unshift("..");return r}function e(r,t){if(r.filter)return r.filter(t);for(var n=[],e=0;e<r.length;e++)t(r[e],e,r)&&n.push(r[e]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(r){return o.exec(r).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var u=i>=0?arguments[i]:r.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(t=u+"/"+t,o="/"===u.charAt(0))}return t=n(e(t.split("/"),function(r){return!!r}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(r){var o=t.isAbsolute(r),i="/"===u(r,-1);return r=n(e(r.split("/"),function(r){return!!r}),!o).join("/"),r||o||(r="."),r&&i&&(r+="/"),(o?"/":"")+r},t.isAbsolute=function(r){return"/"===r.charAt(0)},t.join=function(){var r=Array.prototype.slice.call(arguments,0);return t.normalize(e(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},t.relative=function(r,n){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var n=r.length-1;n>=0&&""===r[n];n--);return t>n?[]:r.slice(t,n-t+1)}r=t.resolve(r).substr(1),n=t.resolve(n).substr(1);for(var o=e(r.split("/")),i=e(n.split("/")),u=Math.min(o.length,i.length),s=u,c=0;c<u;c++)if(o[c]!==i[c]){s=c;break}for(var f=[],c=s;c<o.length;c++)f.push("..");return f=f.concat(i.slice(s)),f.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(r){var t=i(r),n=t[0],e=t[1];return n||e?(e&&(e=e.substr(0,e.length-1)),n+e):"."},t.basename=function(r,t){var n=i(r)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(r){return i(r)[3]};var u="b"==="ab".substr(-1)?function(r,t,n){return r.substr(t,n)}:function(r,t,n){return t<0&&(t=r.length+t),r.substr(t,n)}}).call(t,n(1))}]);